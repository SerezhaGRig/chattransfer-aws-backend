default: &DEFAULT
  variables: &DEFAULT_VARIABLES
    NODE_ENV: ${self:provider.stage, 'local'}
    DB_NAME: chattransfer
    DB_USERNAME: ${ssm:/chattransfer-dev/db_username}
    DB_PASSWORD: ${ssm:/chattransfer-dev/db_password}
    DB_HOST: ${ssm:/chattransfer-dev/db_host}
    DB_PORT: 5432
    OPENAI_API_KEY: ${ssm:/chattransfer-dev/openai_key}
    WEAVIATE_SCHEME: https
    WEAVIATE_HOST: ${ssm:/chattransfer-dev/weaviate_host}
    WEAVIATE_API_KEY: ${ssm:/chattransfer-dev/weaviate_key}
    LIVE_LEADS_DOCUMENTS_BUCKET_NAME: !Ref LiveLeadsDocumentsBucket
#    MARKETPLACE_API_KEY: ${ssm:/chattransfer-dev/marketplace_key}
#    MARKETPLACE_PLANS_SEARCH_API: https://marketplace.api.healthcare.gov/api/v1/plans/search
#    MARKETPLACE_PLANS_SEARCH_API_YEAR: 2024
  vpc:
    vpcId: ${ssm:/chattransfer-dev/vpc-id}
    publicSubnetIds:
      - ${ssm:/chattransfer-dev/vpc-public-subnet-id-1}
      - ${ssm:/chattransfer-dev/vpc-public-subnet-id-2}

production: &PRODUCTION
  variables: &PRODUCTION_VARIABLES
    NODE_ENV: ${self:provider.stage, 'local'}
    DB_NAME: chattransfer
    DB_USERNAME: ${ssm:/chattransfer-production/db_username}
    DB_PASSWORD: ${ssm:/chattransfer-production/db_password}
    DB_PORT: 5432
    DB_HOST: ${ssm:/chattransfer-production/db_host}
    OPENAI_API_KEY: ${ssm:/chattransfer-production/openai_key}
    WEAVIATE_SCHEME: https
    WEAVIATE_HOST: ${ssm:/chattransfer-production/weaviate_host}
    WEAVIATE_API_KEY: ${ssm:/chattransfer-production/weaviate_key}
    LIVE_LEADS_DOCUMENTS_BUCKET_NAME: !Ref liveLeadsDocumentsBucket
  #    MARKETPLACE_API_KEY: ${ssm:/chattransfer-production/marketplace_key}
#    MARKETPLACE_PLANS_SEARCH_API: https://marketplace.api.healthcare.gov/api/v1/plans/search
#    MARKETPLACE_PLANS_SEARCH_API_YEAR: 2024
  vpc:
    vpcId: ${ssm:/chattransfer-production/vpc-id}
    publicSubnetIds:
      - ${ssm:/chattransfer-production/vpc-public-subnet-id-1}
      - ${ssm:/chattransfer-production/vpc-public-subnet-id-2}
dev:
  <<: *DEFAULT
  variables:
    <<: *DEFAULT_VARIABLES
