sendMessage:
  handler: src/lambdas/chatbot/message/send.handler
  environment:
    BOT_LANGUAGE: en
  events:
    - httpApi:
        path: /send/message
        method: POST
        cors:
          origin: '*'
          headers:
            - '*'

sendMessageEs:
  handler: src/lambdas/chatbot/message/send.handler
  environment:
    BOT_LANGUAGE: es
  events:
    - httpApi:
        path: /es/send/message
        method: POST
        cors:
          origin: '*'
          headers:
            - '*'

sendMessageMultilang:
  handler: src/lambdas/chatbot/message/sendMultilang.handler
  environment:
    BOT_LANGUAGE: en
  events:
    - httpApi:
        path: /multilanguage/send/message
        method: POST
        cors:
          origin: '*'
          headers:
            - '*'

getConversationById:
  handler: src/lambdas/chatbot/conversation/get.handler
  events:
    - httpApi:
        path: /conversation/{conversationId}
        method: GET
        cors:
          origin: '*'
          headers:
            - '*'
addDocument:
  handler: src/lambdas/chatbot/documents/add.handler
  events:
    - s3:
        bucket: ${self:custom.s3.liveLeadsDocumentsBucketName}
        event: s3:ObjectCreated:*
        existing: true
deleteDocument:
  handler: src/lambdas/chatbot/documents/delete.handler
  events:
      - s3:
          bucket: ${self:custom.s3.liveLeadsDocumentsBucketName}
          event: s3:ObjectRemoved:*
          existing: true
